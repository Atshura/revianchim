<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untuk Ibu</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;500;600&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { width: 100%; font-family: 'Montserrat', sans-serif; }
        body { overflow-x: hidden; overflow-y: hidden; }
        .preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #c0e399; z-index: 9999; display: flex;
            justify-content: center; align-items: center;
            transition: opacity 1s ease, visibility 1s ease;
        }
        .preloader.loaded { opacity: 0; visibility: hidden; }
        .heart {
            width: 100px; height: 100px; background-color: #f7c9d9;
            position: relative; transform: rotate(-45deg);
            animation: beat 1.4s ease-in-out infinite;
        }
        .heart::before, .heart::after {
            content: ""; width: 100px; height: 100px;
            background-color: #f7c9d9; border-radius: 50%; position: absolute;
        }
        .heart::before { top: -50px; left: 0; }
        .heart::after { top: 0; left: 50px; }
        @keyframes beat {
            0%, 50%, 100% { transform: rotate(-45deg) scale(1); }
            30%, 70% { transform: rotate(-45deg) scale(1.1); }
        }
        .main-container {
            width: 100vw; min-height: 100vh; 
            display: flex; flex-direction: column;
            opacity: 0; transition: opacity 0.8s ease-out 0.5s;
            background-color: #fff;
        }
        body.loaded .main-container { opacity: 1; }
        .top-section { background-color: #c0e399; padding: 40px 20px 30px 20px; text-align: center; }
        .main-title { font-family: 'Dancing Script', cursive; font-size: 3.5em; color: #333; margin: 0; font-weight: 700; }
        .sub-title { font-family: 'Montserrat', sans-serif; font-size: 1em; color: #555; margin-top: 5px; }
        .content-section {
            flex-grow: 1; position: relative;
            display: flex; flex-direction: column; align-items: center;
            justify-content: center; padding: 25px 20px 80px 20px; gap: 20px;
        }
        .content-section::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 150px; background-color: #c0e399; z-index: 0; }
        .bottom-section { background-color: #c0e399; min-height: 8vh; }
        .envelope{position:relative;width:280px;height:180px;cursor:pointer;overflow:hidden;border-radius:10px;z-index:1;transition:filter .3s ease}.envelope-back,.envelope-flap,.envelope-front-label,.letter,.lock-icon{position:absolute;width:100%;height:100%}.envelope-back{background-color:#f7c9d9}.envelope-flap{background-color:#f5b9cd;transform-origin:top;transition:transform .7s cubic-bezier(.4,0,.2,1);clip-path:polygon(0 0,100% 0,100% 50%,50% 100%,0 50%);z-index:3}.envelope-front-label{display:flex;justify-content:center;align-items:center;color:#333;font-size:1.8em;font-weight:600;transition:opacity .3s ease;z-index:4;pointer-events:none}.letter{top:0;width:95%;height:95%;margin:2.5%;background-color:#fff;border-radius:8px;transform:translateY(100%);transition:transform .7s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;justify-content:center;align-items:center;gap:15px;z-index:2}.letter-content{font-size:1.2em;color:#444}.action-button{background-color:#f7c9d9;color:#333;border:none;padding:10px 25px;border-radius:20px;font-size:1em;font-weight:500;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.1)}.envelope.open .envelope-flap{transform:rotateX(180deg)}.envelope.open .letter{transform:translateY(0)}.envelope.open .envelope-front-label{opacity:0}.envelope.locked{cursor:not-allowed;filter:grayscale(40%)}.lock-icon{display:none;justify-content:center;align-items:center;font-size:4em;color:rgba(255,255,255,.8);text-shadow:0 2px 5px rgba(0,0,0,.3);z-index:5}.envelope.locked .lock-icon{display:flex}
        #popup{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:10000;display:flex;justify-content:center;align-items:center}#popup.hidden{display:none}.popup-content{background:#fff;padding:30px;border-radius:10px;text-align:center;box-shadow:0 5px 15px rgba(0,0,0,.3)}.popup-content p{font-size:1.2em;margin-bottom:20px}#closePopup{background-color:#f5b9cd;border:none;padding:10px 30px;border-radius:20px;font-size:1em;cursor:pointer}
        .modal-container{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0);z-index:10001;display:flex;justify-content:center;align-items:center;padding:20px;opacity:1;visibility:visible;transition:background-color .4s ease,opacity .4s ease,visibility .4s ease}.modal-container.hidden{background:rgba(0,0,0,0);opacity:0;visibility:hidden}.modal-container:not(.hidden){background:rgba(0,0,0,.7)}.modal-content{background:#fff;border-radius:15px;width:100%;max-width:800px;height:auto;max-height:90vh;box-shadow:0 10px 30px rgba(0,0,0,.2);display:flex;flex-direction:column;transform:scale(.7);opacity:0;transition:transform .4s cubic-bezier(.34,1.56,.64,1),opacity .3s ease}.modal-container:not(.hidden) .modal-content{transform:scale(1);opacity:1}#modal-body{padding:20px;overflow-y:auto;-webkit-overflow-scrolling:touch}.modal-footer{padding:15px;text-align:center;border-top:1px solid #eee}.modal-close-button{background-color:#f5b9cd;border:none;padding:10px 30px;border-radius:20px;font-size:1em;cursor:pointer}
        #modal-body .galeri-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px}#modal-body .galeri-container img{width:100%;height:auto;border-radius:8px;cursor:pointer}#modal-body .ucapan-content{text-align:center;padding-top:20px}#modal-body .ucapan-content h2{font-family:'Dancing Script',cursive;font-size:2.5em;margin-bottom:20px}#modal-body .ucapan-content p{font-size:1.1em;line-height:1.6}
        #image-zoom-modal{z-index:10002}.close-zoom{position:absolute;top:15px;right:35px;color:#fff;font-size:40px;font-weight:bold;cursor:pointer;transition:transform .3s ease}.close-zoom:hover{transform:scale(1.2) rotate(90deg)}.modal-zoom-content{margin:auto;display:block;max-width:90%;max-height:90%;transition:transform .4s cubic-bezier(.34,1.56,.64,1);transform:scale(.8)}#image-zoom-modal:not(.hidden) .modal-zoom-content{transform:scale(1)}
        .video-wrapper{position:relative;width:100%;padding-top:56.25%;background-color:#eee;border-radius:8px;overflow:hidden}.video-wrapper iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:5px solid #f7c9d9}

        /* === FITUR BARU: TOMBOL FULLSCREEN === */
        #fullscreen-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 999;
            background: rgba(0, 0, 0, 0.3);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.2s ease;
        }
        #fullscreen-btn:hover {
            background: rgba(0, 0, 0, 0.5);
        }
        #fullscreen-btn svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

    </style>
</head>
<body>
    <div class="preloader"><div class="heart"></div></div>
    <div class="main-container">
        <div class="top-section">
            <h1 class="main-title">Untuk Ibu,</h1>
            <p class="sub-title">dari ayah, mas, adik</p>
        </div>
        <div class="content-section">
            <div class="envelope" id="ucapanEnvelope"><div class="envelope-back"></div><div class="letter"><div class="letter-content">Untaian Doa Terbaik</div><button class="action-button" id="open-greeting-btn">Baca Ucapan</button></div><div class="envelope-flap"></div><div class="envelope-front-label">Ucapan</div></div>
            <div class="envelope locked" id="fotoEnvelope"><div class="lock-icon">❤️</div><div class="envelope-back"></div><div class="letter"><div class="letter-content">Kenangan Kita</div><button class="action-button" id="open-gallery-btn">Lihat Foto</button></div><div class="envelope-flap"></div><div class="envelope-front-label">Foto</div></div>
            <div class="envelope locked" id="videoEnvelope"><div class="lock-icon">❤️</div><div class="envelope-back"></div><div class="letter"><div class="letter-content">Sebuah Pesan Video</div><button class="action-button" id="open-video-btn">Lihat Video</button></div><div class="envelope-flap"></div><div class="envelope-front-label">Video</div></div>
        </div>
        <div class="bottom-section"></div>
    </div>
    
    <div id="popup" class="hidden"><div class="popup-content"><p id="popup-text"></p><button id="closePopup">OK</button></div></div>
    <div id="gallery-content" style="display: none;"><div class="galeri-container"><img src="kenangan1.jpg" alt="Foto 1" class="gallery-img"><img src="foto2.jpg" alt="Foto 2" class="gallery-img"></div></div>
    <div id="greeting-content" style="display: none;"><div class="ucapan-content"><h2>Doa Terbaik Untukmu, Bu...</h2><p>Selamat ulang tahun, Ibu. Terima kasih karena dari tangan dan doa Ibu, kami bisa tumbuh sampai hari ini. Bila tidak bersamamu, mungkin kami tidak akan menjadi seperti sekarang. Segala doa baik selalu kami berikan untuk Ibu.</p></div></div>
    <div id="video-content" style="display: none;"><div class="video-wrapper"><iframe src="https://drive.google.com/file/d/1129JyB_e-VR_iDRmpufTPXal3qtimuoc/preview" allow="autoplay" frameborder="0" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"></iframe></div></div>
    <div id="content-modal" class="modal-container hidden"><div class="modal-content"><div id="modal-body"></div><div class="modal-footer"><button id="close-modal-btn" class="modal-close-button">Kembali</button></div></div></div>
    <div id="image-zoom-modal" class="modal-container hidden"><span id="close-zoom-btn" class="close-zoom">&times;</span><img class="modal-zoom-content" id="zoomed-img"></div>
    
    <button id="fullscreen-btn" title="Layar Penuh">
        <svg id="fullscreen-enter-icon" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>
        <svg id="fullscreen-exit-icon" viewBox="0 0 24 24" style="display: none;"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>
    </button>
    
    <audio id="trumpet-sound" src="trumpet.mp3" preload="auto"></audio>
    <audio id="birthday-song" src="song.mp3" preload="auto"></audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const body = document.querySelector('body'),preloader = document.querySelector('.preloader'),envelopes = document.querySelectorAll('.envelope'),videoEnvelope = document.getElementById('videoEnvelope'),fotoEnvelope = document.getElementById('fotoEnvelope'),ucapanEnvelope = document.getElementById('ucapanEnvelope'),popup = document.getElementById('popup'),popupText = document.getElementById('popup-text'),closePopup = document.getElementById('closePopup'),contentModal = document.getElementById('content-modal'),modalBody = document.getElementById('modal-body'),closeModalBtn = document.getElementById('close-modal-btn'),openGalleryBtn = document.getElementById('open-gallery-btn'),openGreetingBtn = document.getElementById('open-greeting-btn'),galleryContent = document.getElementById('gallery-content'),greetingContent = document.getElementById('greeting-content'),imageZoomModal = document.getElementById('image-zoom-modal'),zoomedImg = document.getElementById('zoomed-img'),closeZoomBtn = document.getElementById('close-zoom-btn'),trumpetSound = document.getElementById('trumpet-sound'),birthdaySong = document.getElementById('birthday-song'),openVideoBtn=document.getElementById("open-video-btn"),videoContent=document.getElementById("video-content");let soundsPlayed=!1;
            
            setTimeout(() => { preloader.classList.add('loaded'); body.classList.add('loaded'); body.style.overflowY = 'auto'; }, 1500);

            envelopes.forEach(envelope => {
                envelope.addEventListener('click', (event) => {
                    if (event.target.closest('button') || envelope.classList.contains('open')) return;
                    if (envelope.id === 'fotoEnvelope' && envelope.classList.contains('locked')) { popupText.textContent = 'Buka ucapan dulu Bu ❤️'; popup.classList.remove('hidden'); return; }
                    if (envelope.id === 'videoEnvelope' && envelope.classList.contains('locked')) { popupText.textContent = 'Buka foto dulu Bu ❤️'; popup.classList.remove('hidden'); return; }
                    envelope.classList.add('open');
                    if (envelope.id === 'ucapanEnvelope' && !soundsPlayed) {
                        soundsPlayed = true;
                        trumpetSound.play();
                        trumpetSound.addEventListener('ended', () => { birthdaySong.play(); });
                    }
                    if (envelope.id === 'ucapanEnvelope') { fotoEnvelope.classList.remove('locked'); }
                    if (envelope.id === 'fotoEnvelope') { videoEnvelope.classList.remove('locked'); }
                });
            });

            closePopup.addEventListener('click', () => popup.classList.add('hidden'));

            function openModal(content) { modalBody.innerHTML = content; contentModal.classList.remove('hidden'); body.style.overflow = 'hidden'; }
            function closeModal() { contentModal.classList.add('hidden'); body.style.overflow = 'auto'; modalBody.innerHTML = ''; }
            openGalleryBtn.addEventListener('click', (e) => { e.stopPropagation(); openModal(galleryContent.innerHTML); });
            openGreetingBtn.addEventListener('click', (e) => { e.stopPropagation(); openModal(greetingContent.innerHTML); });
            openVideoBtn.addEventListener('click', (e) => { e.stopPropagation(); openModal(videoContent.innerHTML); });
            closeModalBtn.addEventListener('click', closeModal);
            contentModal.addEventListener('click', (e) => { if (e.target === contentModal) closeModal(); });

            modalBody.addEventListener('click', function(event) { if (event.target.classList.contains('gallery-img')) { zoomedImg.src = event.target.src; imageZoomModal.classList.remove('hidden'); }});
            function closeZoomModal() { imageZoomModal.classList.add('hidden'); }
            closeZoomBtn.addEventListener('click', closeZoomModal);
            imageZoomModal.addEventListener('click', (e) => { if (e.target !== zoomedImg) closeZoomModal(); });
            
            // --- LOGIKA BARU UNTUK TOMBOL FULLSCREEN ---
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const enterIcon = document.getElementById('fullscreen-enter-icon');
            const exitIcon = document.getElementById('fullscreen-exit-icon');
            const docElm = document.documentElement;

            fullscreenBtn.addEventListener('click', () => {
                const isInFullscreen = document.fullscreenElement || document.webkitFullscreenElement;
                if (!isInFullscreen) {
                    if (docElm.requestFullscreen) { docElm.requestFullscreen(); } 
                    else if (docElm.webkitRequestFullscreen) { docElm.webkitRequestFullscreen(); }
                } else {
                    if (document.exitFullscreen) { document.exitFullscreen(); } 
                    else if (document.webkitExitFullscreen) { document.webkitExitFullscreen(); }
                }
            });

            document.addEventListener('fullscreenchange', () => {
                const isInFullscreen = document.fullscreenElement || document.webkitFullscreenElement;
                enterIcon.style.display = isInFullscreen ? 'none' : 'block';
                exitIcon.style.display = isInFullscreen ? 'block' : 'none';
            });
        });
    </script>
</body>
</html>
